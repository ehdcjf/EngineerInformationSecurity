# 데이터베이스 보안통제 

## SQL문 분류
#### DML(Data Manipulation Language): 데이터 조작어
* 사용자가 DBMS를 통해서 원하는 데이터를 조작(조회, 수정, 삽입, 삭제)하는데 사용하는 SQL문을 말한다. 
* 대표적으로  `SELECT`, `UPDATE`, `INSERT`, `DELETE` 문이 있다. 

#### DDL(Data Definition Language): 데이터 정의어
* 데이터베이스 객체(데이터베이스, 테이블, 뷰, 인덱스 등)를 정의(생성)하거나 삭제 또는 변경하기 위해 사용하는 SQL문을 말한다. 
* 대표적으로 `CREATE`, `DROP`, `ALTER` 문이 있다. 

#### DCL(Data Control Language): 데이터 제어어
* 데이터베이스 관리 목적(보안, 무결성 등)으로 사용자에게 데이터베이스 객체에 대한 권한을 부여하거나 제거할 때 사용하는 SQL문을 말한다.
* 대표적으로 `GRANT`,`REVOKE` 문이 있다. 

#### TCL(Transaction Control Language): 트랜잭션 제어어
* 논리적인 작업의 단위를 묶어서 DML에 의해 처리된 결과를 작업단위(트랜잭션)별로 제어하는 명령어를 말한다. 
* 대표적으로 `COMMIT`, `ROLLBACK` 문이 있다. 

## 뷰 기반의 접근 통제
* 뷰란 하나 이상의 기본 테이블로부터 유도되어 만들어지는 가상의 테이블로 일반적으로 뷰의 내용은 실제로 존재하는 것이 아니라 뷰에 대한 조작 요구 시마다 기본 테이블의 데이터를 이용하여 만들어진다. 즉, 뷰는 실행시간에 구체화되는 특성이 있다. 
* 뷰는 그 정의 자체를 권한 부여 기법으로 사용할 수 있다. 기본 테이블에서 직접 접근하는 것을 차단하고, 기본 테이블에서 허용하는 일부 컬럼(필드)에 대해서만 뷰를 통해 제공함으로써 권한 없는 사용자로부터 민감한 데이터를 은닉시킬 수 있다. 
* 

## SQL 기반의 접근 통제(GRANT/REVOKE)
* 뷰 기법은 권한 없는 사용자에게 중요 데이터가 노출되는 것을 제한할 수 있지만 데이터베이스 객체에 수행하는 작업(DML/DDL)에 대한 제한을 할 수 있는 방법은 아니다. 
* DCL문을 이용하면 데이터베이스 객체에 대한 작업 권한을 제한할 수 있다. 

### GRANT 문을 이용한 사용자 권한 부여
* `GRANT` "부여할 권한" `ON` "데이터베이스 객체(테이블 등)" `TO` "사용자" [`WITH GRANT OPTIONS`]
  * `WITH GRANT OPTIONS` : 사용자가 부여받은 권한을 다른 사용자에게 또 다시 부여할 수 있는 권한
  * 주요 권한 종류는 다음과 같다. 
  
  |권한|내용|
  |:---:|:----:|
  |CREATE, ALTER,DROP| 데이터베이스 객체 생성, 변경, 삭제 권한|
  |SELECT, INSERT, UPDATE, DELETE| 테이블의 레코드 조회, 입력, 수정, 삭제 권한|
  |ALL| 모든 권한|
  |USAGE| 계정만 생성된 상태로 부여된 권한이 없음|
  
#### REVOKE 문을 이용한 사용자 권한 해제
* `REVOKE` "해제할 권한" `ON` "데이터베이스 객체(테이블 등)" `FROM` "사용자"








