# SSDP 분산 서비스 거부(DDoS) 취약점
*  SSDP(Simple Service Discovery Protocol)는 네트워크상의 서비스나 정보를 검색하는 프로토콜로 프린터, 스캐너, IP 카메라 등 다양한 IoT 기기의 네트워크 탐색 용도로 사용되며 1900/udp 포트를 장비 검색시 사용한다. 
*  최근 해커 그룹들이 SSDP 프로토콜을 악용하여 대규모 증폭, 반사 형태의 디도스 공격을  실행한 사례가 보고되고 있다.

### 동작 방식
1. SSDP 는 HTTP 프로토콜과 유사한 형태의 요청/응답 형식을 가지고 있다. UDP 프로토콜을 사용하며 장치 검색 시 멀티캐스트 방식의 1900번 포트를 사용한다. 
2. 네트워크상의 서비스 검색 요청을 위해  "M-SEARCH * HTTP/1.1" 로 시작하는 요청 패킷을 작성한다. 
3. M-SEARCH 응답 패킷에는 해당 기기에서 제공하는 서비스 정보가 포함되며 요청 패킷에 비해 상대적으로 매우 큰 응답 패킷으로 인해 증폭 반사 공격으로 악용된다. 

### 공격 절차
1. 공격자는 M-SEARCH 요청 패킷의 출발지 IP를 공격 대상 호스트의 IP 주소로 위조하여(IP 스푸핑) SSDP 지원 IoT 기기로 요청 패킷을 전송한다. 
2. IoT 기기는 트래픽 증폭 반사 역할을 하여 전송받은 패킷에 대한 대량의 응답 패킷을 생성한다. 
3. SSDP 지원 IoT 기기에서 발생하는 증폭된 대량의 응답 트래픽으로 인해 공격 대상 네트워크 장비 및 호스트에 부하를 발생시켜 서비스 거부 상태를 유발한다. 

### 대응방안
* 업무에 불필요한 UDP 포트 차단 및 UDP 서비스를 중단한다. 
* 보안장비를 이용하여 임계치 기반의 UDP 패킷 차단 정책을 적용한다. 


